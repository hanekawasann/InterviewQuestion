[TOC]

## 基本概念

**索引的概述**

在关系数据库中，索引是一种单独的、物理的对数据库表中一列或多列的值进行排序的一种存储结构，它是某个表中一列或若干列值的集合和指向表中物理标识这些值的数据页的逻辑指针清单。索引的作用相当于图书的目录，可以根据目录中的页码快速找到所需的内容。

**事务的特性**

原子性：事务包含的所有操作要么全部成功，要么全部失败回滚。
一致性：事务必须使数据库从一个一致性状态变换到另一个一致性状态。
隔离性：当多个用户并发访问数据库时，多个并发事务之间要相互隔离。
持久性：一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的。

**事务的隔离级别**

串行化：避免脏读、不可重复读、幻读。
可重复读：避免脏读、不可重复读。
读已提交：避免脏读。
读未提交：任何情况都无法保证。
脏读：在一个事务处理过程里读取了另一个未提交的事务中的数据。
不可重复读：在对于数据库中的某个数据，一个事务范围内多次查询却返回了不同的数据值。这是由于在查询间隔，被另一个事务修改并提交了。（某一数据）
幻读：多次读取一个范围内的记录(包括直接查询所有记录结果或者做聚合统计)，发现结果不一致(标准档案一般指记录增多, 记录的减少应该也算是幻读)。（某一批数据）

**分区和分表的区别**

分表就是按照一定的规则把一张大表给分成多张小表，在数据库中看到的是几张不同的表，在硬盘上也是不同的文件，因此在进行增删改查操作的时候要根据同样的规则去找到具体操作的表。
分区是按照一定的规则把一张大表分成不同的区块，在数据库中看到的还是一张表，只不过在硬盘上存储的时候分成了几个不同的文件。这样在进行增删改查操作的时候就像操作一张普通的表一样简单方便。
它们都是为了处理单张表的大数据量问题，都能提高性能。

**表锁和行锁的区别**

表锁锁定的是整张表，行锁锁定指定行。

## MySQL

**mysql引擎MyISAM和InnoDB的区别**

主键：MyISAM允许没有任何索引和主键的表存在，索引都是保存行的地址。InnoDB如果没有设定主键或者非空唯一索引，就会自动生成一个6字节的主键（用户不可见）。
AUTO_INCREMENT：MyISAM可以和其他字段一起建立联合索引。InnoDB必须包含只有该字段的索引。
外键：MyISAM不支持外键。InnoDB支持外键。
锁机制：MyISAM是表级锁。InnoDB是行级锁。
事务：MyISAM不支持事务。InnoDB支持事务。
表行数：MyISAM缓存表行数。InnoDB即时计算表行数。
全文索引：MyISAM支持 FULLTEXT类型的全文索引。InnoDB不支持FULLTEXT类型的全文索引，但是InnoDB可以使用sphinx插件支持全文索引，并且效果更好。
存储结构：每个MyISAM在磁盘上存储成三个文件。InnoDB的所有表都保存在同一个数据文件中。
存储空间：MyISAM可被压缩，存储空间较小。InnoDB需要更多的内存和存储空间。
CRUD：MyISAM的SELECT很快。InnoDB的INSERT或UPDATE很快。
> 问过

## Oracle

**获取Oracle序列seq_order的当前值**

```sql
-- 获取当前值
SELECT seq_order.currval FROM dual;
-- 获取增量后的值
SELECT seq_order.nextval FROM dual;
```

## 优化